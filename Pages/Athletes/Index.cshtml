@page
@model OluRankings.Pages.Athletes.AthletesIndexModel
@{
    ViewData["Title"] = "Athletes";
}

<h1 class="page-title">Athletes</h1>

<form method="get" class="searchbar">
  <input type="search" name="query" value="@Model.Query" placeholder="Search by name, school, region…" />
  <button class="btn" type="submit">Search</button>
</form>

@if (!Model.Athletes.Any())
{
  <p class="muted">No athletes found. Try a different search.</p>
}
else
{
  <div class="cards">
    @foreach (var a in Model.Athletes)
    {
      <article class="card glow-card">
        <div class="avatar" style="background-image:url('@(a.HeadshotUrl ?? "/img/avatar-placeholder.svg")')"></div>
        <h3>@a.GivenName @a.FamilyName</h3>
        <p class="muted">
          @(a.Position ?? "—") • @(a.ClassYear is int cy ? $"U{cy}" : "U?") • @(a.Region ?? "—")
        </p>
        <a class="link" asp-page="/Athletes/Details" asp-route-slug="@a.Slug">View profile</a>
      </article>
    }
  </div>
}

@section Styles {
<style>
/* subtle animated “laser/glow” border on hover */
.glow-card {
  position: relative;
  overflow: hidden;
  isolation: isolate;
}
.glow-card::before {
  content:"";
  position:absolute;
  inset:-200%;
  margin:auto;
  width:80px; height:360px;
  background:linear-gradient(#ff2288,#387ef0);
  opacity:0;
  filter:blur(16px);
  transform:rotate(0deg);
  transition:opacity .25s ease;
  animation:spin-glow 8s linear infinite;
  animation-play-state:paused;
  z-index:0;
}
.glow-card:hover::before {
  opacity:.6;
  animation-play-state:running;
}
/* content stays above the glow */
.glow-card > * { position: relative; z-index: 1; }

/* avatar block (uses background-image inline style) */
.avatar {
  width:64px; height:64px; border-radius:12px;
  background:#101215 center/cover no-repeat;
  border:1px solid var(--border,#23232a);
  margin-bottom:8px;
}

@keyframes spin-glow {
  from { transform: rotate(0deg); }
  to   { transform: rotate(360deg); }
}
</style>
}
