@page
@model OluRankings.Pages.Athletes.AthletesIndexModel
@{
    ViewData["Title"] = "Athletes";
}

<h1 class="page-title">Athletes</h1>

<form method="get" class="searchbar">
  <input type="search" name="query" value="@Model.Query" placeholder="Search by name, school, region…" />
  <button class="btn" type="submit">Search</button>
</form>

@if (!Model.Athletes.Any())
{
  <p class="muted">No athletes found. Try a different search.</p>
}
else
{
  <div class="cards">
    @foreach (var a in Model.Athletes)
    {
      <article class="card glow-card">
        <div class="avatar" style="background-image:url('@(a.HeadshotUrl ?? "/img/avatar-placeholder.svg")')"></div>
        <h3>@a.GivenName @a.FamilyName</h3>
        <p class="muted">
          @(a.Position ?? "—") • @(a.ClassYear is int cy ? $"U{cy}" : "U?") • @(a.Region ?? "—")
        </p>
        <a class="link" asp-page="/Athletes/Details" asp-route-slug="@a.Slug">View profile</a>
      </article>
    }
  </div>
}
