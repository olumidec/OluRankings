@using Microsoft.AspNetCore.Identity
@inject SignInManager<OluRankings.Models.ApplicationUser> SignInManager
@inject UserManager<OluRankings.Models.ApplicationUser> UserManager
@{
    var title = ViewData["Title"] as string ?? "OluRankings";
    var year = DateTime.UtcNow.Year;
}
<!DOCTYPE html>
<html lang="en" class=""> @* default: LIGHT (no theme-dark class) *@
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@title - OluRankings</title>
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
</head>
<body>
    <header class="nav">
        <div class="container nav__inner">
            <a class="brand" asp-page="/Index" aria-label="OluRankings Home">
                OluRankings
            </a>

            <nav class="nav__links" aria-label="Primary">
                <a asp-page="/Rankings/Index">Rankings</a>
                <a asp-page="/Athletes/Index">Athletes</a>
                <a asp-page="/News/Index">Top News</a>
                <a asp-page="/Submit/Index">Submit</a>
                @if (User.IsInRole("Admin")) { <a asp-page="/Admin/Index">Admin</a> }
            </nav>

            <div class="nav__actions">
                @if (SignInManager.IsSignedIn(User))
                {
                    <a class="btn btn--ghost" asp-page="/Account/Manage/Index" asp-area="Identity">Account</a>
                    <form class="inline-form" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Page("/Index")" method="post">
                        <button class="btn btn--primary" type="submit">Logout</button>
                    </form>
                }
                else
                {
                    <a class="btn btn--ghost" asp-area="Identity" asp-page="/Account/Login">Login</a>
                    <a class="btn btn--primary" asp-area="Identity" asp-page="/Account/Register">Register</a>
                }
                <button id="theme-toggle" class="btn btn--ghost" title="Toggle theme">◐</button>
            </div>
        </div>
    </header>

    <main class="container page">
        @RenderBody()
    </main>

    <footer class="container footer">
        <div>© @year OluRankings. All rights reserved.</div>
        <div class="footer__links">
            <a asp-page="/Index">Home</a>
            <a asp-page="/Rankings/Index">Rankings</a>
            <a asp-page="/Submit/Index">Submit</a>
        </div>
    </footer>

    <script src="~/js/site.js" asp-append-version="true"></script>
    @RenderSection("Scripts", required: false)
</body>
</html>
